@use '../../../scss/global/var' as v;
@use '../../../scss/global/mixin' as m;

.carousel-nav {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;

    --nav-size: 5rem;

    &__hidden {
        // Necessary for preventing 'pointercancel' event from being fired when
        // browser default actions like scroll or zoom is triggered, otherwise
        // will have to setup event listeners for both mouseevent and touchevent
        // https://developers.google.com/web/updates/2016/10/pointer-events
        touch-action: none;
        position: absolute;
        background-color: transparent;
        opacity: 0;
        left: 0;
        top: 0;
        right: var(--nav-size);
        bottom: 0;

        @include m.portrait-prism {
            right: 0;
            bottom: var(--nav-size);
        }
    }

    &__sidebar {
        --btn-size: calc(var(--nav-size) * 0.4);

        position: absolute;
        background-color: v.$color-black;
        opacity: 0.8;
        top: 0;
        right: 0;
        width: var(--nav-size);
        height: 100%;
        padding: var(--btn-size) calc((var(--nav-size) - var(--btn-size)) / 2);
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;

        @include m.portrait-prism {
            left: 0;
            top: unset;
            bottom: 0;
            width: 100%;
            height: var(--nav-size);
            padding: calc((var(--nav-size) - var(--btn-size)) / 2)
                var(--btn-size);
            flex-direction: row;
        }

        &__btn {
            flex: 0 0 calc(var(--btn-size) * 1.5);
            position: relative;

            & .btn {
                position: absolute;
                cursor: pointer;
                width: var(--btn-size);
                height: var(--btn-size);

                &::before {
                    content: '';
                    display: block;
                    position: absolute;
                    width: 70%;
                    height: 70%;
                    border-left: 1px solid v.$color-base;
                    border-top: 1px solid v.$color-base;
                    transform-origin: left top;
                    left: 50%;
                    top: 15%;
                    transform: rotate(45deg);
                }

                &.prev {
                    top: 0;

                    @include m.portrait-prism {
                        top: unset;
                        left: 0;
                        transform: rotate(-90deg);
                    }
                }

                &.next {
                    bottom: 0;
                    transform: rotate(180deg);

                    @include m.portrait-prism {
                        bottom: unset;
                        right: 0;
                        transform: rotate(90deg);
                    }
                }

                &:hover {
                    &::before {
                        border-left-width: 3px;
                        border-top-width: 3px;
                    }
                }
            }
        }

        &__dot {
            flex: 1;
            position: relative;
            width: 100%;
            height: 100%;

            &::before {
                content: '';
                display: block;
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translateX(-50%) translateY(-50%);
                width: 1px;
                height: 80%;
                max-height: 3rem;
                background-color: v.$color-dark;

                @include m.portrait-prism {
                    width: 60%;
                    max-width: 3rem;
                    height: 1px;
                }
            }
            &--current::before {
                width: 2px;
                background-color: v.$color-base;

                @include m.portrait-prism {
                    width: 60%;
                    max-width: 3rem;
                    height: 2px;
                }
            }
        }
    }
}
