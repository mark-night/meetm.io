(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{y1Sl:function(t,e,n){"use strict";n.r(e);var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),p=n("Nsbk"),f=n.n(p),h=n("q1tI"),m=n.n(h),d=n("/MKj"),y=n("GUcZ"),v=n("9At1");function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var k=function(t){s()(n,t);var e=R(n);function n(t){var r;return a()(this,n),(r=e.call(this,t)).videoRef=m.a.createRef(),r}return o()(n,[{key:"componentDidMount",value:function(){this.props.fetchStream(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){this.buildPlayer()}},{key:"componentWillUnmount",value:function(){
//! cleanup before component is to be unmounted (e.g. page navigate away)
//! otherwise the player keeps fetching and playing videos even if it's
//! invisible.
this.player.destroy()}},{key:"buildPlayer",value:function(){!this.player&&this.props.stream&&(this.player=y.a.createPlayer({type:"flv",url:"https://api.meetm.io/streams/streaming/live/".concat(this.props.match.params.id,".flv")}),this.player.attachMediaElement(this.videoRef.current),this.player.load())}},{key:"render",value:function(){return this.props.stream?m.a.createElement("div",null,m.a.createElement("video",{ref:this.videoRef,style:{width:"100%"},controls:"on"}),m.a.createElement("h1",null,this.props.stream.title),m.a.createElement("h5",null,this.props.stream.description)):m.a.createElement("div",null,"Loading...")}}]),n}(m.a.Component);e.default=Object(d.b)((function(t,e){return{stream:t.streams[e.match.params.id]}}),{fetchStream:v.d})(k)}}]);